<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta name="viewport" content="minimum-scale=1.0, width=device-width, maximum-scale=1, user-scalable=no" />
    <meta name=”format-detection” content=”telephone=no”/>
    <title>백방</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/layout.css">
    <link rel="stylesheet" href="./css/swiper.css">
    <script type="text/javascript" src="./js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="./js/swiper.min.js"></script>
    <script type="text/javascript" src="./js/common.js"></script>
    <style>
        #wrap { height:100%; overflow-y:auto !important; }
    </style>
</head>

<body>
<div id="wrap">
    <section id="chatWrap" class="chat-wrap">
        <div class="admin-chat chatBox">
            <span class="admin"></span>
            <div class="chat">
                <p>홍길동 고객님을 위한 100개의 딜러견적!
                    백방을 찾아주셔서 감사해요 : )</p>
            </div>
        </div>
        <div class="admin-chat chatBox">
            <span class="admin"></span>
            <div class="chat">
                <p>의뢰하고 싶으신 차종은 정하셨나요?</p>
                <div class="btn-inline-group btn-chat-group">
                    <button type="button" id="view-option" class="btn-c btn-chat">네, 정했어요!</button>
                    <button type="button" class="btn-c btn-chat">아니요, 추천해주세요!</button>
                </div>
            </div>
        </div>
        <div class="user-chat chatBox">
            <div class="chat">
                <p>네, 정했어요!</p>
            </div>
        </div>
        <!-- 옵션 설정 창 -->
        <aside id="" class="chat-option">
            <form action="" class="op-inner">
                <h2>차량을 선택해주세요</h2>
                <h3 class="op-tit open">제조사</h3>
                <div class="op-cont op-reset">
                    <div class="btn-inline-group">
                        <button type="button" class="btn-c" data-car="hyundai">현대</button>
                        <button type="button" class="btn-c" data-car="genesis">제네시스</button>
                        <button type="button" class="btn-c" data-car="kia">기아</button>
                        <button type="button" class="btn-c" data-car="chevrolet">쉐보레</button>
                        <button type="button" class="btn-c" data-car="ssangyong">쌍용</button>
                        <button type="button" class="btn-c" data-car="renault">르노삼성</button>
                    </div>
                </div>
                <!-- //제조사 -->
                <h3 class="op-tit op-arw-none">
                    차종
                    <span role="button" title="열기/접기" class="op-arw"></span>
                </h3>
                <div class="op-cont op-reset">
                    <div id="car-slider" class="swiper-container car-box">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide car-img btn-c">
                                <span class="car-nm">아반떼</span>
                                <img src="images/sub/car_avante.png" alt="아반떼">
                            </div>
                            <div class="swiper-slide car-img btn-c">
                                <span class="car-nm">소나타</span>
                                <img src="images/sub/car_sonata.png" alt="소나타">
                            </div>
                            <div class="swiper-slide car-img btn-c">
                                <span class="car-nm">그랜저</span>
                                <img src="images/sub/car_grandeur.png" alt="그랜저">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- //차종 -->
                <h3 class="op-tit">
                    등급/트림 <i role="button" class="ico-help modal-trigger" data-modal-id="car-rank-option">?</i>
                    <span role="button" title="열기/접기" class="op-arw"></span>
                </h3>
                <div class="op-cont op-accord">
                    <div class="btn-block-group">
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>가솔린 1.6 스마트 M/T</span>
                                <span>1800만원</span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>가솔린 1.6 스마트 A/T</span>
                                <span>1800만원</span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>가솔린 1.6 모던</span>
                                <span>1800만원</span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>가솔린 1.6 인스퍼레이션</span>
                                <span>1800만원</span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>가솔린 1.6 터보 N라인 스포츠 M/T</span>
                                <span>1800만원</span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>가솔린 1.6 터보 N라인 스포츠 A/T</span>
                                <span>1800만원</span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>가솔린 1.6 터보 N라인 인스퍼레이션</span>
                                <span>1800만원</span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>가솔린 1.6 하이브리드 스마트</span>
                                <span>1800만원</span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>가솔린 1.6 하이브리드 모던</span>
                                <span>1800만원</span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>가솔린 1.6 하이브리드 인스퍼레이션</span>
                                <span>1800만원</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- //등급트림 -->
                <h3 class="op-tit">
                    추가옵션
                    <span role="button" title="열기/접기" class="op-arw"></span>
                </h3>
                <div class="op-cont op-accord op-multi">
                    <div class="btn-block-group">
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>익스테리어 디자인&nbsp;&nbsp;&nbsp;&nbsp;I</span>
                                <span>44만원<i role="button" class="ico-help modal-trigger" data-modal-id="car-app-option1">?</i></span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>인조가죽 시트</span>
                                <span>25만원 <i role="button" class="ico-help modal-trigger" data-modal-id="car-app-option2">?</i></span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>인포테인먼트 라이트</span>
                                <span>54만원</span>
                            </div>
                        </div>
                        <div role="button" class="btn-c">
                            <div class="flexbox">
                                <span>하이패스+ECM룸미러</span>
                                <span>25만원</span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- //추가옵션 -->
                <h3 class="op-tit op-total">선택내용</h3>
                <div class="op-cont">
                    <div class="white-box">
                        <div class="car-box">
                            <div class="car-img">
                                <span class="car-nm">아반떼</span>
                                <img src="images/sub/car_avante.png" alt="아반떼">
                            </div>
                        </div>
                        <div class="car-option">
                            <dl>
                                <dt>모&nbsp;&nbsp;&nbsp;델:</dt>
                                <dd>아반떼 가솔린 1.6</dd>
                            </dl>
                            <dl>
                                <dt>등&nbsp;&nbsp;&nbsp;급:</dt>
                                <dd>스마트 M/T</dd>
                            </dl>
                            <dl>
                                <dt>옵&nbsp;&nbsp;&nbsp;션:</dt>
                                <dd>익스테리어 외 1</dd>
                            </dl>
                            <dl class="total">
                                <dt>총 차량가 : </dt>
                                <dd>2200만원</dd>
                            </dl>
                        </div>
                    </div>
                    <div class="btn-option-group">
                        <span role="button" class="btn btn-black op-reset">차량 재선택</span>
                        <span role="button" class="btn btn-black op-finish">확인</span>
                    </div>
                </div>
                <!-- //선택내용 -->
            </form>
        </aside>
        <!-- //옵션 설정 창-->
        <div class="admin-chat chatBox detail-chat">
            <span class="admin"></span>
            <div class="chat">
                <p>
                    제조사 : 현대<br>
                    차종 : 아반떼<br>
                    등급 : 가솔린 1.6 스마트 A/T<br>
                    차량가 : 18,000,000원<br>
                    추가옵션 : 인조가죽시트<br>
                    옵션가 : 250,000원<br><br>
                    <strong>총 차량가 : 18,250,000원</strong>
                </p>
            </div>
        </div>
        <div class="admin-chat chatBox">
            <span class="admin"></span>
            <div class="chat">
                <p>이 차량 조건을 저장해둘까요?</p>
                <div class="btn-inline-group btn-chat-group">
                    <button type="button" class="btn-c btn-chat btn-save">좋아요. 저장해주세요.</button>
                    <button type="button" class="btn-c btn-chat">다시 처음부터 선택할게요.</button>
                </div>
            </div>
        </div>
        <div class="user-chat chatBox">
            <div class="chat">
                <p>좋아요. 저장해주세요.</p>
            </div>
        </div>
        <div class="admin-chat chatBox save-chat">
            <span class="admin"></span>
            <div class="chat">
                <p>차량 조건을 성공적으로 저장했어요.</p>
            </div>
        </div>
        <div class="admin-chat chatBox">
            <span class="admin"></span>
            <div class="chat">
                <p>이대로 희망렌트료 단계로 넘어갈까요?</p>
                <div class="btn-inline-group btn-chat-group">
                    <button type="button" class="btn-c btn-chat">이대로 신청할게요!</button>
                    <button type="button" class="btn-c btn-chat">수정해서 다시 할게요!</button>
                </div>
            </div>
        </div>
    </section>
    <!-- //chat-wrap -->
</div>
<!-- //wrap -->

<div id="car-rank-option" class="modal modal-round">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" title="팝업 닫기" class="modal-close btn-close gmarket">X</button>
            <h2>1.6 가솔린 / 1.6 가솔린 터보</h2>
        </div>
        <div class="modal-body">
            <div class="modal-scroll">
                <img src="images/modal/modal_op_ex2.jpg" alt="예시 이미지">
            </div>
        </div>
    </div>
</div>
<!-- //등급트림 모달 -->

<div id="car-app-option1" class="modal modal-round">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" title="팝업 닫기" class="modal-close btn-close gmarket">X</button>
            <h2>익스테리어 디자인</h2>
        </div>
        <div class="modal-body">
            <div class="modal-scroll">
                <img src="images/modal/modal_op_ex1.jpg" alt="예시 이미지">
            </div>
        </div>
    </div>
</div>
<!-- //추가옵션 모달 -->

<div id="car-app-option2" class="modal modal-round">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" title="팝업 닫기" class="modal-close btn-close gmarket">X</button>
            <h2>인조가죽 시트</h2>
        </div>
        <div class="modal-body">
            <div class="modal-scroll">
                <img src="images/modal/modal_op_ex1.jpg" alt="예시 이미지">
            </div>
        </div>
    </div>
</div>
<!-- //추가옵션 모달 -->

</body>
<script>
    $(function(){
        $(window).load(function(){
            $(".chatBox:nth-child(1)").stop().fadeIn()
            $(".chatBox:nth-child(2)").stop().delay(500).fadeIn()
            $(".btn-save").on("click", function(){
                $(".save-chat").stop().delay(600).fadeIn()
                $(".save-chat").next(".admin-chat").stop().delay(1000).fadeIn()
            })
        })

        $("#view-option").on("click", function(){
            $(".chat-option").addClass("open")
        })

        //btnC event
        $(".chat-option .btn-c").on("click", function(){
            $(this).closest(".op-cont").next(".op-tit").addClass("open")

            var multi = $(this).closest(".op-cont").hasClass("op-multi"),
                accordion = $(this).closest(".op-cont").hasClass("op-accord");
            if(multi == true) { // multi
                $(this).toggleClass("selected")
                if($(".op-multi .selected").length > 0){
                    $(".op-total").show()
                }else {
                    $(".op-total").hide().removeClass("open")
                }
            }else {
                $(this).closest(".op-cont").find(".btn-c").removeClass("selected")
                $(this).addClass("selected")
            }
            if(accordion == true && multi == false) { // accordion
                $(this).closest(".op-accord").find(".btn-c:not(.selected)").hide()
                $(this).closest(".op-cont").prev(".op-tit").find(".op-arw").removeClass("active")
            }else{ }
        })

        $(".op-arw").on("click", function(){
            $(this).toggleClass("active")
            if( $(this).hasClass("active") > 0 ) {
                $(this).closest(".op-tit").next(".op-accord").find(".btn-c").show()
            }else{
                $(this).closest(".op-tit").next(".op-accord").find(".btn-c:not(.selected)").hide()
            }
        })

        $(".btn-chat").on("click", function(){
            $(this).closest(".btn-chat-group").find(".btn-chat").removeClass("selected")
            $(this).addClass("selected")
            $(this).closest(".admin-chat").next(".user-chat").fadeIn();
        })

        $(".btn-option-group span").on("click", function(){
            var btn = $(this);
            if(btn.hasClass("op-reset")){
                $(".chat-option .btn-c").show()
                $(".op-total").hide()
                $(".chat-option .btn-c").removeClass("selected")
                $(".op-tit:not(:nth-of-type(1))").removeClass("open");
                $(".op-arw").removeClass("active")
            }else if(btn.hasClass("op-finish")){
                $(".chat-option").removeClass("open")
                $(".detail-chat").stop().delay(450).fadeIn()
                $(".detail-chat").next(".admin-chat").stop().delay(1000).fadeIn()
            }else{}
        })

        const mySwiper = new Swiper("#car-slider", {
            slidesPerView: "auto",
            loop: false,
            slideToClickedSlide: true,
        });
        $("#car-slider .swiper-slide").on("click", function(){
            $("#car-slider .swiper-slide").removeClass("swiper-slide-active")
            $(this).addClass("swiper-slide-active")
        })
    })

    //스크롤 가장 하단으로 위치하기
    function scrDown() {
        $("#wrap").animate({ scrollTop: $("#wrap")[0].scrollHeight }, 700);
    }
    setInterval(scrDown, 0);
    
    $("#wrap").on("scroll", function(){
        clearInterval(scrDown);
    })

    
</script>
</html>

