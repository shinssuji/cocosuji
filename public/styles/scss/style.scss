@charset 'utf-8';

@use './base' as *;
@use './components' as *;
@use './helpers' as *;


/* ----------------------- COMMON */
.btn-top {
  @include size(min(13.889vw, rem(66)));
  @include radius(50%);
  @include bg($filename: 'icon_gotop');
  
  background-color: $white-main;
}

.floating-btns {
  position: fixed;
  right: var(--floating-position-right);

  opacity: 0;
  visibility: hidden;

  &.is-show {
    opacity: 1;
    visibility: visible;

    bottom: calc(var(--floating-position-bottom) * -1);

    transition: opacity .4s linear,bottom .5s cubic-bezier(.545,.045,.355,1);

    &.hide {
      bottom: calc(var(--floating-position-bottom) * -1);
    }
  }

  &.scr-up {
    bottom: var(--floating-position-bottom);
  }

  &.scr-down {
    bottom: calc(var(--floating-position-bottom) * -1);
  }
}

/* ----------------------- MAIN */
.main {
  white-space: pre-line;

  > section {
    padding: var(--main-inner-top-padding) 0;

    @include tablet {
      padding: 12vh 0;
    }
  }
}

.heading-main {
  @include heading-main;
}


/* visual */
.visual {
  position: relative;
  height: vh(100);
  overflow: hidden;
  pointer-events: none;

  p {
    position: absolute;
    
    font-size: rem(200);
    font-weight: $font-regular;
    color: $black-sub01;
    white-space: nowrap;

    @include laptop {
      font-size: rem(150)
    }
    @include tablet {
      font-size: min(22.222vw, rem(150));
    }
    
    &.text-left {
      left: rem(-44);
      top: rem(74);

      // top: 50%;
      // margin-top: rem(-410);

      @include tablet {
        // margin-top: vh(-35);
      }
    }

    &.text-right {
      right: rem(-55);
      bottom: rem(74);
      
      // top: 50%;
      // margin-top: rem(115);

      @include tablet {
        // margin-top: vh(17);
      }
    }
  }


  .circle {
    @include pos-center;
    
    display: block;

    &::before {
      @include size(rem(340));
      @include bg('img_circle_text');

      content: "";
      display: block;
      animation: circle 20s linear infinite;

      @include tablet {
        @include size(min(55.556vw, rem(330)));
      }
    }

    em {
      @include pos-center;
      @include size(rem(240));
      @include radius(50%);
      
      display: block;
      background-color: $black-sub01;

      @include tablet {
        @include size(min(41.667vw, rem(240)));
      }
    }
  }

  @keyframes circle {
    0% {
      transform: rotate(0);
    }
    100% {
      transform: rotate(360deg);
    }
    
  }
}

/* main skills */
.skill-wrap {
  @include flex;

  // padding: 0 min(55.556vw, rem(200));
  width: min(90vw, 1514px);
  margin: 0 auto;

  @include tablet {
    @include flex-dir(column);
    
    padding: 0;
  }

  // skill icon type
  $skillgroup: (uidev, cowork, markup);
  @each $item in $skillgroup {
    .ico-#{$item} {
      @include inline-block;
      // @include size(rem(54), rem(58));
      @include size(min(11.111vw, rem(54)), min(11.936vw, rem(58)));
      @include bg(icon_#{$item});

      // @include tablet {
      //   @include size(min(11.111vw, rem(54)), min(11.936vw, rem(58)));
      // }
    }
  }

  li {
    @include flexitem;
    @include flex;
    @include flex-dir(column);

    padding: rem(40) rem(30) rem(20) rem(60);

    @include tablet {
      padding: rem(30) rem(25);
    }

    .tit {
      margin: rem(44) 0 rem(38);
      font-size: clamp(23px, 2.143vw, var(--font-size-30));
      font-weight: $font-semibold;
      line-height: rem(30);

      @include tablet {
        margin: rem(34) 0 rem(20);
        // font-size: clamp(23px, 6.389vw, var(--font-size-30));
      }
    }

    .para {
      // font-size: var(--font-size-22);
      font-size: clamp(14px, 1.571vw, var(--font-size-22));
      line-height: 2;
      letter-spacing: rem(-0.4);
      // color: $gary-sub02;
    }
  }
}

/* works */
.works {
  @include tablet {
    padding: 0;
  }

  .box {
    @include flex-layout;

    @include tabletMin {
      padding: rem(110) 0;
      
      &:nth-of-type(even) {
        .img {
          order: 2;
        }
      }
    }

    @include tablet {
      @include flex-dir(column);
    }
  }
  
  .item {
    @include flexitem; 
    min-width: 50%;
  }
  
  .text {
    padding-left: min(6.667vw, rem(200));

    @include tablet {
      width:100%;
      padding: 12vw var(--inner-padding) 22vw;
    }
    
    h3 {
      @include heading-work;
    }

    .s-tit {
      @include heading-worksub;

      display: block;
      margin-bottom: rem(32);

      @include tablet {
        margin-bottom: 4vw;
      }
    }
    
    .tags {
      margin: rem(44) 0 rem(60);

      @include tablet {
        margin: 3vw 0 10vw;
      }
      
      .tag {
        font-size: clamp(13px, 1.429vw, var(--font-size-20));
        color: $gray-sub01;

        &:not(:last-child) {
          margin-right: 15px;
        }
      }
    }

    .btn-view {
      @include radius(50px);

      padding: rem(17) rem(50);
      font-size: var(--font-size-18);
    }
  }
}


/* ----------------------- SUB */
.sub {
  @include flex;
  
  background-color: $black-sub01;

  @include tablet {
    @include flex-dir(column);
  }

  &::selection {
    background-color: transparent;
  }
  
  nav { // sub-nav
    @include tabletMin {
      @include flex;
      @include flex-dir(column);
      @include flex-align(flex-start);
      @include flex-justify(center);
      @include size(rem(500), vh(100));

      position: sticky;
      top: 0;
      padding-left: rem(200);
    }
    
    button {
      margin: rem(12) 0;
      font-size: var(--font-size-20);
      color: $gray-sub04;

      &.active {
        position: relative;
        font-weight: $font-bold;
        color: $white-main;

        @include pseudo-ele(after) {
          @include size(rem(4));
          position: absolute;
          right: -8px;
          bottom: 6px;
          background-color: $red-main;
        }
      }
    }
  }
}

.list-wrap {
  @include flexitem(1);
  
  // overflow-y: auto;
  padding: rem(200) rem(100) 0 rem(160);
  overflow: hidden; // for list items transform animation

  .item {
    position: relative;
    margin: rem(40) 0;

    p {
      display: inline;
    }

    .en {
      font-size: rem(104);
      color: $gray-sub04;
      line-height: 1.1538;
      transition: color 0.3s ease;
    }

    .kr {
      opacity: 0;
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
    }

    &:hover {
      .en {
        color: $black-main;
        text-decoration: line-through;
      }

      .kr {
        opacity: 1;
        left: rem(40);
        font-size: var(--font-size-40);;
        font-weight: $font-semibold;
        color: $white-main;
        letter-spacing: rem(5);

        transition: left 0.3s ease, opacity 0.2s linear;
        transition-delay: 0.2s;
      }
    }
  }
}

.list-motion-wrap {
  .item {
    opacity: 0;
    transform: translateY(40px);
    transition: 0s;
  }

  $_listLength: 20;
  &.is-visible {
    .item {
      opacity: 1;
      transform: translateY(0);
      transition:transform .3s, opacity .3s;

      @for $i from 1 through $_listLength {
        &:nth-child(#{$i+1}) {
          transition-delay: ($i * 0.2s);
        }
      }
    }
  }
}


/* ----------------------- DETAIL */
.detail {
  position: relative;

  .btn-close {
    @include size(rem(46));
    @include bg($filename: function) {
      background-image: icon(close, '000000');
    }

    position: absolute;
    right: rem(50);
    top: rem(40);
    z-index: 10;
  }

  // dark type
  &.dark {
    .btn-close {
      background-image: icon(close, 'ffffff');
    }
  }
}

.KBdatahub .detail-intro::before {
  @include bg-image($img: 'img_kbdatahub_intro', $format: 'png');
}

.detail-intro {
  position: relative;
  height: vh(100);

  &::before {
    content: "";
    display: block;
    height: vh(100);
    background-size: cover;
    background-attachment: fixed;
    background-position: center bottom;
    // @include bg-image($img: 'kbdatahub_intro', $format: 'png');
  }

  $detailgroup: KBdatahub;
  @each $class in $detailgroup {
    .#{$class} &::before {
      @include bg-image($img: 'img_#{$class}_intro', $format: 'png');
    }
  }
    
  .txt {
    position: absolute;
    left: rem(240);
    top: 50%;
    transform: translateY(-50%);
    font-family: $kr-font, sans-serif;
    color: $white-main;
  }

  h1 {
    font-size: var(--font-size-76);;
    font-weight: $font-bold;
    line-height: 1.2;
    white-space: pre-line;
  }

  p {
    margin-top: rem(40);
    font-size: var(--font-size-34);
    font-weight: $font-bold;
  }
}

.detail-info {
  @include flex;
  @include flex-align(flex-start);

  padding: rem(200) rem(240);
  background-color: $white-main;

  // color: #eee;

  .btn-view {
    margin-top: rem(50);
    padding: rem(14) rem(45);
    font-size: var(--font-size-15);
    font-weight: $font-medium;
  }
}

.detail-visual {
  padding-bottom: rem(30);

  > * {
    @include inner;
  }

  > div {
    padding: rem(130) 0;
  }

  .copyright {
    font-size: var(--font-size-12);
    font-weight: $font-light;
  }
}


.info {
  &-tit {
    display: block;
    margin-bottom: rem(40);
    font-size: var(--font-size-48);
    font-weight: $font-bold;
    line-height: 1.1875;
  }

  &-txt {
    font-size: var(--font-size-20);
    line-height: 2;
  }

  &-main {
    @include flexitem(1);
  }

  &-skill {
    min-width: 25%;
    // padding-left: rem(120);
    padding-left: 8.3333%;

    li {
      @include flex;
      @include flex-dir(column);
      
      + li {
        margin-top: rem(50);
      }
    }

    b {
      margin-bottom: rem(12);
      font-size: var(--font-size-24);
      font-weight: $font-semibold;
    }

    span {
      font-size: var(--font-size-15);
      font-weight: $font-medium;
      color: $gray-sub03;
      white-space: pre-line;
    }
  }
}





